- var _action = location._action == 'edit' ? '#' : '/locations/'
- var _method = location._action == 'edit' ? ""  : "post"
- var _type   = location._action == 'edit' ? "button"  : "submit"
- var onClick  = location._action == 'edit' ?  "click_edit('location-" + location._action + "-form','/locations/" + location._id + "/')" : ""
form(id='location-#{ location._action}-form',action="#{_action}", method="#{_method}",role='form')
  each n in ['location.name','location.coordinates']
    - m = eval(n);
    div(class="field")
      label #{n.split('.')[1]} #{m}
      br
      input(type='text',name="#{n.split('.')[1]}" ,value="#{ m == undefined ? '' : m }")
        
  div(class="actions") 
    input(type='#{_type}',value='Submit',onClick='#{onClick}')